<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../ll-time-picker/ll-time-picker.html">
<!--
An extended input element that uses an external ll-date-picker instance to set its display and ISO values.

Example:

    <ll-time-input></ll-time-input>

A clickable, read-only text input that launches ll-time-picker to set its display and iso values.
-->
<script>

  LLTimeInput = Polymer({

    is: 'll-time-input',

    extends: 'input',

    properties: {

      iso: {
        type: String,
        notify: true,
        readOnly: true
      },

      _timePicker: Object

    },

    created: function() {
      this.readOnly = true;
    },

    attached: function() {
      this._timePicker = document.getElementById('llTimePicker');
      if(!this._timePicker) {
        this._timePicker = new LLTimePicker();
        document.body.appendChild(this._timePicker);
      }
    },

    listeners: {
      'tap': '_tap'
    },

    _tap: function () {
      this._timePicker.open(this);
    },
    timePicked: function (data) {
      this.value = data.display;
      this.iso = data.iso;
    }

  });

</script>
